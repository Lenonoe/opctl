name: debug
description: Ensures deps are installed and debugs the node app
inputs:
  app_dir: { dir:, description: directory containing a nodejs app }
  npm_registry_address: { string: }
  npm_registry_path: { string:, isSecret: true}
outputs:
  app_dir: { dir:, description: directory containing a nodejs app }
run:
  serial:
    - op:
        ref: install-deps
        inputs: { npm_registry_address, npm_registry_path, app_dir }
        outputs: { app_dir }
    - op: { ref: debug-api, inputs: { app_dir } }
