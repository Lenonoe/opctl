name: install-deps
description: installs npm packages
inputs:
  - string: { name: NPM_CONFIG_REGISTRY, isSecret: true }
  - dir: { name: APP_DIR, description: Directory containing the app }
outputs:
  - dir: { name: APP_DIR, description: Directory containing the app }
run:
  container:
    cmd: npm install
    env:
      - { bind: NPM_CONFIG_REGISTRY }
    fs:
      - { bind: APP_DIR, path: /opt/app }
    image: node:7.1.0
    workDir: /opt/app
