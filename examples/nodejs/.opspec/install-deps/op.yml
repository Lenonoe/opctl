name: install-deps
description: installs npm packages
inputs:
  appDir:
    dir:
      default: .
      description: directory containing the app
  npmRegistryUrl:
    string:
      constraints: { format: uri }
      default: https://registry.npmjs.org/
outputs:
  appDir:
    dir:
      description: directory containing the app
run:
  container:
    cmd: [ npm, install ]
    envVars:
      NPM_CONFIG_REGISTRY: $(npmRegistryUrl)
    dirs:
      /opt/app: { bind: appDir }
    image: node:7.4
    workDir: /opt/app
