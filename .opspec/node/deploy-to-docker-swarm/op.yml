name: node/deploy-to-docker-swarm
description: runs all ops necessary to perform node deployment to docker swarm
inputs:
  dockerUsername:
    string:
      description: docker username
  dockerPassword:
    string:
      description: docker password
run:
  serial:
    - op:
        pkg: { ref: github.com/opspec-pkgs/dockercloud.swarm.network.create#1.0.0 }
        inputs:
          dockerUsername:
          dockerPassword:
          swarm: opctl/alpha
          networkName: frontend
    - op:
        pkg: { ref: github.com/opspec-pkgs/dockercloud.swarm.stack.deploy#1.0.0}
        inputs:
          dockerUsername:
          dockerPassword:
          swarm: opctl/alpha
          stackName: alpha
          stackFile: $(/docker-compose.yml)
