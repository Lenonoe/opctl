description: performs a release
name: release
inputs:
- { name: EQUINOX_TOKEN, description: equinox.io auth token, isSecret: true }
- { name: EQUINOX_SIGNING_KEY, description: signing key for artifacts published to equinox.io, isSecret: true }
- { name: GIT_BRANCH, default: master, description: git branch the coverage should be associated with }
- { name: VERSION, description: opctl version }
run:
  serial:
  - op: set-version
  - op: build
  - op: release-to-equinox
  - op: release-to-docker
